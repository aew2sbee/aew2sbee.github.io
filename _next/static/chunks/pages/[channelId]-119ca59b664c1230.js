(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{2181:(e,t,s)=>{"use strict";s.r(t),s.d(t,{__N_SSG:()=>y,default:()=>w});var a=s(7876),l=s(4232),r=s(3868),n=s(4346);function i(e){let{totalDays:t,totalTime:s,averageTime:l,lastUpdateDate:r,formatDate:n,formatTime:i}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"全期間"})}),(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,a.jsx)("div",{children:"データ更新日時"}),(0,a.jsx)("div",{className:"font-medium text-gray-700",children:n(r)})]})})]})}),(0,a.jsx)("div",{className:"p-4 sm:p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-6 border border-blue-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-blue-500 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"集中日数"}),(0,a.jsxs)("p",{className:"text-3xl font-bold text-gray-900",children:[t,(0,a.jsx)("span",{className:"text-lg text-gray-600",children:"日"})]})]})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-6 border border-green-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-green-500 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"総集中時間"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:i(s)})]})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 rounded-lg p-6 border border-purple-100",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"p-2 bg-purple-500 rounded-lg",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 00-2 2z"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"平均集中時間"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:l})]})]})})]})})]})}var d=s(3028),c=s.n(d);function o(e){let{totalTime:t,totalDays:s,last7DaysTime:l,last30DaysTime:r,captureTargetRef:n}=e,i=e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return t>0?"".concat(t,"時間").concat(s,"分"):"".concat(s,"分")},d=async()=>{if(!(null==n?void 0:n.current))return null;try{let e=n.current;return await new Promise(e=>setTimeout(e,500)),(await c()(e,{backgroundColor:"#f3f4f6",scale:2,useCORS:!0,allowTaint:!0,logging:!1,x:0,y:0,scrollX:0,scrollY:0})).toDataURL("image/png")}catch(e){return console.error("Screenshot capture failed:",e),null}},o=async()=>{let e=await d();if(!e)return;let t=new Date,s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0"),r="".concat(s).concat(a).concat(l),n=document.createElement("a");n.download="".concat(r,"_集中記録.png"),n.href=e,n.click()};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 sm:p-6 mb-6",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"記録を共有"}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)("button",{onClick:o,className:"hidden md:flex flex-1 bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 items-center justify-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"画像をダウンロード"]}),(0,a.jsxs)("button",{onClick:()=>{let e=(()=>{let e=i(t),a=i(l),n=i(r);return"集中記録\uD83D\uDCDA\n- 総集中日数: ".concat(s,"日\n- 総集中時間: ").concat(e,"\n- 過去7日間: ").concat(a,"\n- 過去30日間: ").concat(n,"\n\n#studywithme\n\nhttps://youtube.com/@aew2sbee?si=Jw2KLKR9OPBCwZyq")})(),a="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e));window.open(a,"_blank","noopener,noreferrer")},className:"flex-1 bg-[#000000] hover:bg-gray-800 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),"Twitter"]})]})]})}function x(e){let{data:t,periodLabel:s,formatTime:l}=e,r=t.filter(e=>null!==e.data),n=r.length,i=0===r.length?(0,a.jsxs)("span",{children:["0",(0,a.jsx)("span",{className:"text-sm",children:"分"})]}):l(r.reduce((e,t)=>e+t.data.timeSec,0)/r.length),d=0===r.length?(0,a.jsxs)("span",{children:["0",(0,a.jsx)("span",{className:"text-sm",children:"分"})]}):l(Math.max(...r.map(e=>e.data.timeSec)));return(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"集中日数"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[n,"日"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 border border-green-100",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:s}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900",children:i})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-violet-50 rounded-lg p-4 border border-purple-100",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"最高記録"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:d})]})]})}function m(e){let{data:t,formatDate:s,getDayOfWeek:l,formatTime:r}=e,n=t.filter(e=>null!==e.data),i=n.length>0?Math.max(...n.map(e=>e.data.timeSec)):1;return(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsx)("div",{className:"flex items-end justify-between space-x-1",style:{height:"150px"},children:t.map((e,t)=>{let n=e.data?e.data.timeSec:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center group relative",children:[(0,a.jsxs)("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 z-10",children:[(0,a.jsxs)("div",{children:[s(e.date)," (",l(e.date),")"]}),(0,a.jsx)("div",{children:e.data?r(e.data.timeSec):"記録なし"})]}),(0,a.jsx)("div",{className:"rounded-t w-full hover:opacity-80 transition-opacity",style:{height:"".concat(n/i*120,"px"),minHeight:"2px",backgroundColor:"#41b4d9"}})]},t)})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[(0,a.jsx)("span",{children:s(t[0].date)}),(0,a.jsx)("span",{children:s(t[t.length-1].date)})]})]})}function h(e){let{monthOffset:t,setMonthOffset:s,getLast30Days:l,formatTime:r,formatDate:n,getDayOfWeek:i}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"過去30日間の集中時間"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,a.jsx)("button",{onClick:()=>s(t+1),className:"px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-slate-600 hover:bg-slate-700 rounded-lg shadow-sm transition-colors",title:"前の月",children:"← 前月"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-gray-800 font-medium px-1 sm:px-2",children:0===t?"今月":"".concat(t,"ヶ月前")}),(0,a.jsx)("button",{onClick:()=>s(Math.max(0,t-1)),disabled:0===t,className:"px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-slate-600 hover:bg-slate-700 disabled:bg-gray-300 disabled:text-gray-500 rounded-lg shadow-sm transition-colors",title:"次の月",children:"次月 →"})]})]})}),(0,a.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,a.jsx)(x,{data:l(t),periodLabel:"30日平均",formatTime:r}),(0,a.jsx)(m,{data:l(t),formatDate:n,getDayOfWeek:i,formatTime:r})]})]})}function g(e){let{data:t,formatDateShort:s,getDayOfWeek:l}=e,r=t.filter(e=>null!==e.data),n=r.length>0?Math.max(...r.map(e=>e.data.timeSec)):1;return(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 pt-8",children:(0,a.jsx)("div",{className:"flex items-end justify-between space-x-1",style:{height:"200px"},children:t.map((e,t)=>{let r=e.data?e.data.timeSec:0;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center min-w-0",children:[(0,a.jsx)("div",{className:"text-xs text-gray-600 mb-1 text-center",style:{fontSize:"10px"},children:e.data?(0,a.jsx)("span",{style:{fontSize:"10px"},children:(e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return 0===t?(0,a.jsxs)("span",{children:[s,(0,a.jsx)("span",{style:{fontSize:"8px"},children:"分"})]}):0===s?(0,a.jsxs)("span",{children:[t,(0,a.jsx)("span",{style:{fontSize:"8px"},children:"時"})]}):(0,a.jsxs)("span",{children:[t,(0,a.jsx)("span",{style:{fontSize:"8px"},children:"時"}),s,(0,a.jsx)("span",{style:{fontSize:"8px"},children:"分"})]})})(e.data.timeSec)}):(0,a.jsxs)("span",{style:{fontSize:"10px"},children:["0",(0,a.jsx)("span",{style:{fontSize:"8px"},children:"分"})]})}),(0,a.jsx)("div",{className:"rounded-t w-full",style:{height:"".concat(r/n*160,"px"),minHeight:"4px",backgroundColor:"#41b4d9",maxWidth:"24px"}}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2 text-center",style:{fontSize:"9px"},children:[(0,a.jsx)("div",{children:s(e.date)}),(0,a.jsxs)("div",{children:["(",l(e.date),")"]})]})]},t)})})})}function p(e){let{weekOffset:t,setWeekOffset:s,getLast7Days:l,formatTime:r,formatDateShort:n,getDayOfWeek:i}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:[(0,a.jsx)("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3",children:[(0,a.jsx)("div",{children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"過去7日間の集中時間"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[(0,a.jsx)("button",{onClick:()=>s(t+1),className:"px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-slate-600 hover:bg-slate-700 rounded-lg shadow-sm transition-colors",title:"前の週",children:"← 前週"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm text-gray-800 font-medium px-1 sm:px-2",children:0===t?"今週":"".concat(t,"週前")}),(0,a.jsx)("button",{onClick:()=>s(Math.max(0,t-1)),disabled:0===t,className:"px-3 sm:px-4 py-2 text-xs sm:text-sm font-medium text-white bg-slate-600 hover:bg-slate-700 disabled:bg-gray-300 disabled:text-gray-500 rounded-lg shadow-sm transition-colors",title:"次の週",children:"次週 →"})]})]})}),(0,a.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,a.jsx)(x,{data:l(t),periodLabel:"7日平均",formatTime:r}),(0,a.jsx)(g,{data:l(t),formatDateShort:n,getDayOfWeek:i})]})]})}let u=e=>{let t=e.substring(0,4),s=e.substring(4,6),a=e.substring(6,8);return"".concat(t,"/").concat(s,"/").concat(a)},j=e=>{let t=e.substring(4,6),s=e.substring(6,8);return"".concat(t,"/").concat(s)},f=e=>{let t=parseInt(e.substring(0,4));return["日","月","火","水","木","金","土"][new Date(t,parseInt(e.substring(4,6))-1,parseInt(e.substring(6,8))).getDay()]},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,s=[],a=new Date;for(let l=6;l>=0;l--){let r=new Date(a);r.setDate(a.getDate()-l-7*e);let n=r.getFullYear().toString()+(r.getMonth()+1).toString().padStart(2,"0")+r.getDate().toString().padStart(2,"0");s.push({date:n,data:t[n]||null})}return s},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,s=[],a=new Date;for(let l=29;l>=0;l--){let r=new Date(a);r.setDate(a.getDate()-l-30*e);let n=r.getFullYear().toString()+(r.getMonth()+1).toString().padStart(2,"0")+r.getDate().toString().padStart(2,"0");s.push({date:n,data:t[n]||null})}return s},N=e=>{if(0===e)return(0,a.jsxs)("span",{children:["0",(0,a.jsx)("span",{className:"text-sm",children:"分"})]});let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return 0===t?(0,a.jsxs)("span",{children:[s,(0,a.jsx)("span",{className:"text-sm",children:"分"})]}):0===s?(0,a.jsxs)("span",{children:[t,(0,a.jsx)("span",{className:"text-sm",children:"時"})]}):(0,a.jsxs)("span",{children:[t,(0,a.jsx)("span",{className:"text-sm",children:"時"}),s,(0,a.jsx)("span",{className:"text-sm",children:"分"})]})};var y=!0;function w(e){let{allData:t,totalTime:s,channelName:d,lastUpdateDate:c,last7DaysTime:x,last30DaysTime:m}=e,[g,y]=(0,l.useState)(0),[w,k]=(0,l.useState)(0),S=(0,l.useRef)(null);return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsx)(n.A,{title:"アナリティクス",userName:d}),(0,a.jsxs)("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[(0,a.jsx)(o,{totalTime:s,totalDays:Object.values(t).filter(e=>null!==e).length,last7DaysTime:x,last30DaysTime:m,captureTargetRef:S}),(0,a.jsxs)("div",{ref:S,children:[(0,a.jsx)(i,{totalDays:Object.values(t).filter(e=>null!==e).length,totalTime:s,averageTime:Object.values(t).filter(e=>null!==e).length>0?N(s/Object.values(t).filter(e=>null!==e).length):(0,a.jsxs)("span",{children:["0",(0,a.jsx)("span",{className:"text-sm",children:"分"})]}),lastUpdateDate:c,formatDate:u,formatTime:N}),(0,a.jsx)(p,{weekOffset:g,setWeekOffset:y,getLast7Days:e=>b(e,t),formatTime:N,formatDateShort:j,getDayOfWeek:f}),(0,a.jsx)(h,{monthOffset:w,setMonthOffset:k,getLast30Days:e=>v(e,t),formatTime:N,formatDate:u,getDayOfWeek:f})]})]}),(0,a.jsx)(r.A,{})]})}},2556:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[channelId]",function(){return s(2181)}])},3868:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(7876);function l(){return(0,a.jsx)("footer",{className:"bg-white border-t",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsxs)("p",{className:"text-sm",children:["\xa9 2025"," ",(0,a.jsx)("a",{href:"https://www.youtube.com/@aew2sbee",target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600 transition-colors",children:"小倉あん-YouTubeチャンネル"}),". All rights reserved."]})})})})}},4346:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(7876);function l(e){let{title:t,userName:s}=e;return(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"flex items-center space-x-3",children:(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"text-xl font-medium text-gray-900",children:t})})})}),s&&(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-sm text-gray-700 font-medium",children:[s," さん"]})})})]})})})}}},e=>{e.O(0,[366,636,593,792],()=>e(e.s=2556)),_N_E=e.O()}]);